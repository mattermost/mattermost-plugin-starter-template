checks:
  - type: repo_is_clean
    params:
      repo: template
  - type: repo_is_clean
    params:
      repo: plugin
actions:
  - paths:
      - build
    actions:
      - type: overwrite_directory
        params:
          create: true
  - paths:
      - Makefile
      - .editorconfig
    actions:
      - type: overwrite_file
        params:
          create: true
        conditions:
          - type: file_unaltered
            params:
              repo: plugin
              reference-repo: template
  - paths:
      - go.mod
      - webapp/.babelrc
      - webapp/webpack.config.js
      - webapp/tsconfig.json
      - webapp/.eslintrc.json
      - webapp/src/index.js
      - server/configuration.go
      - server/plugin.go
      - server/plugin_test.go
      - public/hello.html
      - .circleci/config.yml
      - webapp/i18n/en.json
      - webapp/package.json
    actions:
      - type: overwrite_file
        conditions:
          - type: exists
            params:
              repo: plugin
          - type: file_unaltered
            params:
              repo: plugin
              reference-repo: template
